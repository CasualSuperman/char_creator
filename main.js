$(function(){$("#container").load("forms/init.htm")});var abilities=[{"short":"Str","long":"Strength"},{"short":"Con","long":"Constitution"},{"short":"Dex","long":"Dexterity"},{"short":"Int","long":"Intelligence"},{"short":"Wis","long":"Wisdom"},{"short":"Cha","long":"Charisma"}];String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});(function(){var b=function(){this.abilities={str:null,con:null,dex:null,"int":null,wis:null,cha:null};this.race=null;this.backStory={name:null,age:null,height:null,weight:null}};b.prototype.toString=function(){return JSON.stringify(this)};b.prototype.clearAbility=function(a){if(this.abilities.hasOwnProperty(a))this.abilities[a]=null;else throw"No ability named "+a+".";return this};b.prototype.setAbility=function(a,d){if(this.abilities.hasOwnProperty(a))this.abilities[a]=parseInt(d);else throw"No ability named "+
a+".";return this};b.fromString=function(a){var d=new b;a=JSON.parse(a);for(prop in a)a.hasOwnProperty(prop)&&(d[prop]=a[prop]);return d};window.Character=b})();(function(){var b=window.localStorage||null;null!==b?(window.saveCurrentForm=function(a,d){b.setItem("currentForm",JSON.stringify({name:a,data:d}))},window.loadCurrentForm=function(a,d){var e=b.getItem("currentForm");e&&(e=JSON.parse(e),e.name===a&&d(e.data))},window.clearCurrentForm=function(){b.removeItem("currentForm")},window.hasCurrentForm=function(){return!!b.getItem("currentForm")},window.getCurrentForm=function(){var a=b.getItem("currentForm");return a?JSON.parse(a).name:null},window.saveInProgressCharacter=
function(a){b.setItem("inProgress",a.toString())},window.loadInProgressCharacter=function(){var a=b.getItem("inProgress");return a?Character.fromString(a):new Character},window.clearInProgressCharacter=function(){b.removeItem("inProgress")}):(window.saveCurrentForm=function(){},window.loadCurrentForm=function(){},window.clearCurrentForm=function(){},window.hasCurrentForm=function(){return!1},window.saveInProgressCharacter=function(){},window.loadInProgressCharacter=function(){return new Character},
window.clearInProgressCharacter=function(){})})();(function(){function b(d,a,b){this.name=d;this.description=a;return 0<b?function(){for(var a=0;a<b;a++)this.name=this.name.replace("%"+a,arguments[a]),this.description=this.description.replace("%"+a,arguments[a]);return this}.bind(this):this}var a={Darkvision:new b("Darkvision %0'","Able to see in the dark up to %0 feet away, albiet in black in white.",1),RacialResistBonus:new b("Resist %0","+%1 racial bonus on saving throws against %2.",3)};b.prototype.toString=function(){return this.name+": "+this.description};
window.RaceAbility=a})();(function(){function b(a,b,c,f){this.name=a;this.sizeMod=b;this.mods={str:c[0],con:c[1],dex:c[2],"int":c[3],wis:c[4],cha:c[5]};this.abilities=f;return this}var a=[new b("Human",0,[0,0,0,0,0,0],[]),new b("Dwarf",0,[0,2,0,0,0,-2],[RaceAbility.Darkvision(60),RaceAbility.RacialResistBonus("Poison","2","poison")])];b.prototype.toString=function(){for(var a=this.name+"\n",a=a+["","Small: As Small creatures, they get +1 size bonus to Armor Class, a +1 size bonus on attack rolls, and a +4 size bonus on Hide checks, but they use smaller weapons than humans use, and lifting and carrying limits are three-quarters of those of a Medium character.",
"Medium: As Medium creatures, there are no special bonuses or penalties due to size.","",""][this.sizeMod+2],b=0,c=0;c<abilities.length;c++){var f=abilities[c]["short"].toLowerCase();0!==this.mods[f]&&(a=1<=b?a+", ":a+"\n",a+=toModStr(this.mods[f])+" "+abilities[c]["long"],b++)}0<b&&0<this.abilities.length&&(a+="\n");for(c=0;c<this.abilities.length;c++)0<c&&(a+="\n"),a+=this.abilities[c].toString();return a};window.toModStr=function(a){return 0<=a?"+"+a:""+a};window.Races=a})();
